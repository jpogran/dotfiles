{{- $codespaces := env "CODESPACES" | not | not -}}
{{- $isWsl := or (env "WSL_DISTRO_NAME") (env "IS_WSL") | not | not -}}
{{- $hostname := .chezmoi.hostname -}}

sourceDir = {{ .chezmoi.sourceDir | quote }}

{{- if eq .chezmoi.os "windows" -}}
[cd]
  command = "pwsh"
  args = ["-nologo"]
{{ end -}}

[git]
  autoCommit = true
  autoPush = true

[diff]
  exclude = ["scripts"]
  command = "code"
  args = ["--wait", "--diff", "{{ .Destination }}", "{{ .Target }}"]

[data]
  username = "jpogran"
  dotusername = "james.pogran"
  name = "james"
  fullname = "James Pogran"
  email = "jpogran@outlook.com"
  sigkey = "45CAED724A0A0B34"
  editor = "code --wait"
  codespaces = {{ $codespaces }}
  hostname = {{ $hostname | quote }}
